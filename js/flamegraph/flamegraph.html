<!DOCTYPE html>
<html>
<head>
<title>flamebearer</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<style>
    html, body { height: 100%; }
    body { font: 16px "Helvetica Neue", sans-serif; margin: 0; }
    body.hover { background: #cfc; }
    h1 { font-size: 30px; margin: 30px 30px 15px; }
    h1 a { color: black; text-decoration: none; }
    h1 a:hover { text-decoration: underline; }
    #fire-icon { fill: #f53; width: 26px; height: 26px; vertical-align: -1px; }
    #intro { margin: 0 30px; }
    code { font-size: 13px; color: #444; }
    code span { color: #aaa; }
    #canvas { width: 100%; }
    #controls { display: none; }
    #search { margin-right: 10px; }
    #highlight { position: absolute; pointer-events: none; background: #ffffff40; }
    .loaded #intro { display: none; }
    .loaded #header { display: flex; align-items: center; flex-flow: row wrap; padding: 7px 10px; }
    .loaded h1 { font-size: 22px; margin: 0 auto 0 0; flex-shrink: 0; }
    .loaded #fire-icon { width: 20px; height: 20px; }
    .loaded #controls { display: block; flex-shrink: 0; }
    #tooltip { position: absolute; pointer-events: none; background: #ffffff; white-space: nowrap; box-shadow: 1px 2px 4px 0px rgba(0,0,0,0.3); border-radius: 2px; padding: 3px 5px; font: 12px Tahoma, sans-serif; display: none; }
    #tooltip .path { color: #888; font-size: 11px; }
    #tooltip .time { color: #4a4; }
</style>
</head>
<body>

<div id="header">
    <h1><svg id="fire-icon" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 15 15" style="enable-background:new 0 0 15 15;" xml:space="preserve"><path d="M7.5,0.5L5,4.5l-1.5-2 C2.9452,3.4753,0.8036,5.7924,0.8036,8.3036C0.8036,12.002,3.8017,15,7.5,15s6.6964-2.998,6.6964-6.6964 c0-2.5112-2.1416-4.8283-2.6964-5.8036l-1.5,2L7.5,0.5z M7.5,7c0,0,2.5,2.5618,2.5,4.5c0,0.8371-0.8259,2-2.5,2S5,12.3371,5,11.5 C5,9.6283,7.5,7,7.5,7z"/></svg> <a href="https://github.com/mapbox/flamebearer">flamebearer</a></h1>
    <div id="controls">
        <input id="search" placeholder="Search..." />
        <button id="reset">Reset view</button>
    </div>
</div>
<div id="highlight"></div>
<div id="tooltip"></div>
<div id="intro"><!--  --></div>
<canvas id="canvas" height="0"></canvas>

<!--  -->
<script>'use strict';

const introEl = document.getElementById('intro');
const searchEl = document.getElementById('search');
const highlightEl = document.getElementById('highlight');
const tooltipEl = document.getElementById('tooltip');
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

let names, levels, numTicks;

names = ["(unknown)","~(anonymous) node:internal/main/run_main_module:1:1","~nativeModuleRequire node:internal/bootstrap/loaders:332:29","~compileForInternalLoader node:internal/bootstrap/loaders:299:27","~(anonymous) node:internal/bootstrap/pre_execution:1:1","~(anonymous) node:internal/options:1:1","(lib) /home/nicholas/.asdf/installs/nodejs/17.1.0/bin/node","(unknown)","~prepareMainThreadExecution node:internal/bootstrap/pre_execution:22:36","~setupDebugEnv node:internal/bootstrap/pre_execution:193:23","~getOptionValue node:internal/options:39:24","~initializeDeprecations node:internal/bootstrap/pre_execution:250:32","~initializeCJSLoader node:internal/bootstrap/pre_execution:421:29","~(anonymous) node:internal/modules/cjs/loader:1:1","~(anonymous) node:internal/process/esm_loader:1:1","~(anonymous) node:internal/modules/esm/loader:1:1","~(anonymous) node:internal/modules/esm/resolve:1:1","~executeUserEntryPoint node:internal/modules/run_main:74:31","~Module._load node:internal/modules/cjs/loader:757:24","~Module.load node:internal/modules/cjs/loader:963:33","~Module._extensions..js node:internal/modules/cjs/loader:1106:37","~Module._compile node:internal/modules/cjs/loader:1051:37","~(anonymous) ./flamegraph/app.js:1:1","~require node:internal/modules/cjs/helpers:101:31","~Module.require node:internal/modules/cjs/loader:991:36","~(anonymous) ./node_modules/express/index.js:1:1","~Module._resolveFilename node:internal/modules/cjs/loader:848:35","~trySelf node:internal/modules/cjs/loader:441:17","~readPackageScope node:internal/modules/cjs/loader:321:26","~readPackage node:internal/modules/cjs/loader:290:21","~(anonymous) ./node_modules/express/lib/express.js:1:1","~(anonymous) ./node_modules/body-parser/index.js:1:1","~(anonymous) ./node_modules/depd/index.js:1:1","~loadNativeModule node:internal/modules/cjs/helpers:44:26","~compileForPublicLoader node:internal/bootstrap/loaders:246:25","~(anonymous) ./node_modules/express/lib/application.js:1:1","~Module._findPath node:internal/modules/cjs/loader:494:28","~resolveExports node:internal/modules/cjs/loader:472:24","~(anonymous) ./node_modules/finalhandler/index.js:1:1","~tryPackage node:internal/modules/cjs/loader:338:20","~(anonymous) ./node_modules/finalhandler/node_modules/debug/src/index.js:1:1","~(anonymous) ./node_modules/finalhandler/node_modules/debug/src/node.js:1:1","~(anonymous) node:tty:1:1","~(anonymous) node:net:1:1","~debuglog node:internal/util/debuglog:71:18","~(anonymous) ./node_modules/finalhandler/node_modules/debug/src/debug.js:1:1","~readFileSync node:fs:450:22","(lib) /usr/lib/x86_64-linux-gnu/libc.so.6","~(anonymous) ./node_modules/on-finished/index.js:1:1","~(anonymous) ./node_modules/statuses/index.js:1:1","~populateStatusesMap ./node_modules/statuses/index.js:60:30","~forEachCode ./node_modules/statuses/index.js:63:51","~(anonymous) ./node_modules/express/lib/router/index.js:1:1","~(anonymous) ./node_modules/express/lib/router/route.js:1:1","~(anonymous) ./node_modules/express/node_modules/debug/src/index.js:1:1","(C++) __mprotect@@GLIBC_PRIVATE","~(anonymous) ./node_modules/express/lib/router/route.js:192:25","~(anonymous) ./node_modules/express/lib/middleware/query.js:1:1","~(anonymous) ./node_modules/qs/lib/index.js:1:1","~(anonymous) ./node_modules/express/lib/utils.js:1:1","~(anonymous) ./node_modules/send/index.js:1:1","~(anonymous) ./node_modules/http-errors/index.js:1:1","~populateConstructorExports ./node_modules/http-errors/index.js:264:37","~forEachCode ./node_modules/http-errors/index.js:265:38","~toIdentifier ./node_modules/toidentifier/index.js:24:23","(C++) std::_Rb_tree_increment(std::_Rb_tree_node_base*)@@GLIBCXX_3.4","~(anonymous) ./node_modules/send/node_modules/debug/src/index.js:1:1","~(anonymous) ./node_modules/send/node_modules/debug/src/node.js:1:1","~(anonymous) ./node_modules/send/node_modules/debug/src/debug.js:1:1","~(anonymous) ./node_modules/mime/mime.js:1:1","~Module._extensions..json node:internal/modules/cjs/loader:1154:39","~Mime.define ./node_modules/mime/mime.js:21:34","~(anonymous) ./node_modules/proxy-addr/index.js:1:1","~(anonymous) ./node_modules/ipaddr.js/lib/ipaddr.js:1:1","~(anonymous) ./node_modules/ipaddr.js/lib/ipaddr.js:1:10","~(anonymous) ./node_modules/ipaddr.js/lib/ipaddr.js:199:26","~(anonymous) ./node_modules/express/lib/request.js:1:1","~(anonymous) ./node_modules/accepts/index.js:1:1","~(anonymous) ./node_modules/negotiator/index.js:1:1","normalizeString node:path:66:25","~(anonymous) ./node_modules/mime-types/index.js:1:1","~(anonymous) ./node_modules/mime-db/index.js:1:1","~(anonymous) ./node_modules/express/lib/response.js:1:1","~get ./node_modules/body-parser/index.js:122:23","~loadParser ./node_modules/body-parser/index.js:132:21","~(anonymous) ./node_modules/body-parser/lib/types/json.js:1:1","~(anonymous) ./node_modules/body-parser/node_modules/debug/src/index.js:1:1","~(anonymous) ./node_modules/body-parser/node_modules/debug/src/node.js:1:1","~(anonymous) ./node_modules/body-parser/lib/read.js:1:1","~(anonymous) ./node_modules/raw-body/index.js:1:1","~(anonymous) ./node_modules/iconv-lite/lib/index.js:1:1","~(anonymous) node:zlib:1:1","~createProperty node:zlib:873:24","~(anonymous) ./node_modules/fast-levenshtein/levenshtein.js:1:1","~(anonymous) ./node_modules/fast-levenshtein/levenshtein.js:1:10","(C++) __pthread_mutex_unlock@GLIBC_2.2.5","~app.<computed> ./node_modules/express/lib/application.js:473:25","~lazyrouter ./node_modules/express/lib/application.js:137:37","~use ./node_modules/express/lib/router/index.js:434:25","~Layer ./node_modules/express/lib/router/layer.js:33:15","~pathtoRegexp ./node_modules/path-to-regexp/index.js:28:22","~listen ./node_modules/express/lib/application.js:616:29","~Server.listen node:net:1414:35","~listenInCluster node:net:1372:25","~(anonymous) node:cluster:1:1","~(anonymous) node:internal/cluster/primary:1:1","~(anonymous) node:child_process:1:1","~(anonymous) node:internal/child_process:1:1","~(anonymous) node:dgram:1:1","~processTicksAndRejections node:internal/process/task_queues:68:35","~emitListeningNT node:net:1365:25","~emit node:events:340:44","~onceWrapper node:events:504:21","~(anonymous) ./flamegraph/app.js:44:18","~log node:internal/console/constructor:358:6","~value node:internal/console/constructor:257:20","~once node:events:528:44","~_onceWrap node:events:514:19","~parserOnHeadersComplete node:_http_common:77:33","~parserOnIncoming node:_http_server:852:26","~app ./node_modules/express/lib/express.js:38:21","~handle ./node_modules/express/lib/application.js:158:29","~handle ./node_modules/express/lib/router/index.js:136:31","~next ./node_modules/express/lib/router/index.js:176:16","~process_params ./node_modules/express/lib/router/index.js:333:47","~(anonymous) ./node_modules/express/lib/router/index.js:275:64","~trim_prefix ./node_modules/express/lib/router/index.js:288:23","~handle ./node_modules/express/lib/router/layer.js:86:49","~query ./node_modules/express/lib/middleware/query.js:39:24","~expressInit ./node_modules/express/lib/middleware/init.js:29:30","~dispatch ./node_modules/express/lib/router/route.js:98:45","~next ./node_modules/express/lib/router/route.js:114:16","~(anonymous) ./flamegraph/app.js:20:14","~send ./node_modules/express/lib/response.js:107:25","~end node:_http_outgoing:833:45","~write_ node:_http_outgoing:730:16","~_implicitHeader node:_http_server:262:68","~writeHead node:_http_server:267:19","~_storeHeader node:_http_outgoing:374:22","~utcDate node:internal/http:21:17","~cache node:internal/http:26:15","~emitReadable_ node:internal/streams/readable:597:23","~flow node:internal/streams/readable:1032:14","~Readable.read node:internal/streams/readable:402:35","~endReadable node:internal/streams/readable:1323:21","~nextTick node:internal/process/task_queues:104:18","~newAsyncId node:internal/async_hooks:417:20","~onconnection node:net:1548:22","~connectionListener node:_http_server:434:28","~defaultTriggerAsyncIdScope node:internal/async_hooks:447:36","~connectionListenerInternal node:_http_server:440:36","~Socket.resume node:net:630:35","~Readable.resume node:internal/streams/readable:987:37","~resume node:internal/streams/readable:1001:16","~Socket node:net:283:16","~initSocketHandle node:net:254:26","~ServerResponse node:_http_server:178:24","~_handles_method ./node_modules/express/lib/router/route.js:58:59","~module.exports ./node_modules/qs/lib/parse.js:237:27","~normalizeParseOptions ./node_modules/qs/lib/parse.js:203:59","~doWrite node:internal/streams/writable:399:17","~Socket._writeGeneric node:net:769:42","~onwrite node:internal/streams/writable:426:17","~isstats ./node_modules/etag/index.js:104:18","(C++) __pthread_rwlock_wrlock@GLIBC_2.2.5","(C++) cfree@GLIBC_2.2.5","processTicksAndRejections node:internal/process/task_queues:68:35","next ./node_modules/express/lib/router/index.js:176:16","~afterShutdown node:net:451:23","~freeParser node:_http_common:192:20","Readable.read node:internal/streams/readable:402:35","_addListener node:events:418:22","emit node:events:340:44","connectionListenerInternal node:_http_server:440:36","Socket node:net:283:16","ReadableState node:internal/streams/readable:83:23","Readable.on node:internal/streams/readable:898:33","_storeHeader node:_http_outgoing:374:22","(regexp) ^[!#$%&'*+.^_`|~0-9A-Za-z-]+\\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$","setHeader node:_http_outgoing:574:57","send ./node_modules/express/lib/response.js:107:25","flow node:internal/streams/readable:1032:14","nextTick node:internal/process/task_queues:104:18","Readable node:internal/streams/readable:186:18","Readable.resume node:internal/streams/readable:987:37","parserOnHeadersComplete node:_http_common:77:33","(regexp) [^\\t\\x20-\\x7e\\x80-\\xff]","handle ./node_modules/express/lib/router/index.js:136:31","normalizeParseOptions ./node_modules/qs/lib/parse.js:203:59","header ./node_modules/express/lib/response.js:759:29","writeHead node:_http_server:267:19","get node:_http_incoming:108:16","Socket._destroy node:net:667:37","(C++) epoll_ctl@@GLIBC_2.3.2","EventEmitter.init node:events:194:29","(C++) __libc_malloc@@GLIBC_2.2.5","writevGeneric node:internal/stream_base_commons:126:23","(C++) writev@@GLIBC_2.2.5","clearBuffer node:internal/streams/writable:530:21","endReadableNT node:internal/streams/readable:1333:23","resOnFinish node:_http_server:786:21","_writeRaw node:_http_outgoing:344:19","_flushOutput node:_http_outgoing:950:63","(C++) operator delete(void*)@@GLIBCXX_3.4","callback node:internal/streams/writable:551:44","resume_ node:internal/streams/readable:1008:17","removeListener node:events:557:28","write_ node:_http_outgoing:730:16","destroy node:internal/streams/destroy:39:17","(C++) syscall@@GLIBC_2.2.5","Writable node:internal/streams/writable:219:18","trim_prefix ./node_modules/express/lib/router/index.js:288:23","format ./node_modules/content-type/index.js:65:17","needFinish node:internal/streams/writable:651:20","Socket._final node:net:427:35","emitCloseNT node:internal/streams/destroy:133:21","query ./node_modules/express/lib/middleware/query.js:39:24","parserOnIncoming node:_http_server:852:26","afterShutdown node:net:451:23","onconnection node:net:1548:22","processPromiseRejections node:internal/process/promises:203:34","ServerResponse node:_http_server:178:24","handle ./node_modules/express/lib/router/layer.js:86:49","socketOnClose node:_http_server:585:23","connectionListener node:_http_server:434:28","fromStringFast node:buffer:412:24","get node:internal/streams/duplex:100:8","emitReadable_ node:internal/streams/readable:597:23","getHeader node:_http_outgoing:590:57","Hash node:internal/crypto/hash:58:14","afterWrite node:internal/streams/writable:488:20","expressInit ./node_modules/express/lib/middleware/init.js:29:30","dispatch ./node_modules/express/lib/router/route.js:98:45","handle ./node_modules/express/lib/application.js:158:29","finish node:internal/streams/writable:742:16","readableAddChunk node:internal/streams/readable:242:26","(anonymous) ./node_modules/express/lib/request.js:467:36","(regexp) ; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *(\"(?:[\\u000b\\u0020\\u0021\\u0023-\\u005b\\u005d-\\u007e\\u0080-\\u00ff]|\\\\[\\u000b\\u0020-\\u00ff])*\"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) *","fastparse ./node_modules/parseurl/index.js:95:20","Writable.end node:internal/streams/writable:595:34","Readable.removeListener node:internal/streams/readable:928:45","etag ./node_modules/etag/index.js:70:15","_destroy node:_http_incoming:176:55","onParserExecuteCommon node:_http_server:688:31","hasObserver node:internal/perf/observe:474:21","onceWrapper node:events:504:21","socketOnDrain node:_http_server:556:23","socketListenerWrap node:_http_server:1001:37","_finish node:_http_server:203:52","(regexp) ^[\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]+$","contentType ./node_modules/express/lib/response.js:599:32","Socket.end node:net:608:32","parserOnMessageComplete node:_http_common:147:33","(regexp) ^[!#$%&'*+.^_`|~0-9A-Za-z-]+$","updateOutgoingData node:_http_server:551:28","Writable.uncork node:internal/streams/writable:342:37","afterWriteTick node:internal/streams/writable:483:24","Socket.resume node:net:630:35","(regexp) ^text\\/|^application\\/(javascript|json)","matchKnownFields node:_http_incoming:234:26","fromString node:buffer:431:20","onParserExecute node:_http_server:631:25","onFinish node:_http_outgoing:828:18","(anonymous) node:net:685:24","removeAllListeners node:events:617:32","once node:events:528:44","emitCloseNT node:_http_server:841:21","push node:internal/fixed_queue:99:7","_send node:_http_outgoing:319:49","slowCases node:internal/util:165:19","app ./node_modules/express/lib/express.js:38:21","(regexp) ;\\s*charset\\s*=","clearIncoming node:_http_server:747:23","onwrite node:internal/streams/writable:426:17","ContentType ./node_modules/content-type/index.js:219:22","clearRequestTimeout node:_http_server:772:29","(regexp) ^.*[\\.\\/\\\\]","(regexp) (?:^|\\W)chunked(?:$|\\W)","(C++) operator new(unsigned long)@@GLIBCXX_3.4","listenerCount node:events:722:23","from node:buffer:295:28","(regexp) ^\\/?$","(anonymous) ./flamegraph/app.js:20:14","getDefaultTriggerAsyncId node:internal/async_hooks:433:34","get node:internal/streams/readable:1265:8","get node:internal/streams/writable:784:8","arrayClone node:events:747:20","onSocketResume node:_http_server:965:24","getEncodingOps node:buffer:678:24","(C++) __pthread_rwlock_unlock@GLIBC_2.2.5","Socket.read node:net:639:33","setRequestTimeout node:_http_server:760:27","~onStreamRead node:internal/stream_base_commons:171:22","~readableAddChunk node:internal/streams/readable:242:26"];
levels = [[0,1,0,0,6605,7],[0,1,1,0,46,1,0,126,6,0,468,7,0,2,109,0,8,118,0,3,147,0,1250,166,0,1,168,0,1,182,0,3854,185,0,2,199,0,1,205,0,4,215,0,2,217,0,31,218,0,694,219,0,5,220,0,1,223,0,1,224,0,6,227,0,4,235,0,1,243,0,63,252,0,2,256,0,5,257,0,14,261,0,4,263,0,4,266,0,1,291,0,1,292],[0,1,2,0,3,8,0,43,17,125,1,6,5,38,6,0,345,7,0,1,111,0,4,119,0,42,172,0,29,174,0,1,235,0,3,243,0,1,110,0,1,141,0,8,119,0,2,111,0,1,154,27,75,6,0,214,7,0,4,170,0,1,172,0,1,182,0,114,199,0,26,205,0,3,215,0,62,227,0,1,230,0,242,234,0,1,242,0,441,256,0,36,266,0,1,275,0,1,286,0,1,6,11,31,6,0,174,7,0,2,171,0,3,172,0,30,183,0,2,202,0,3601,217,0,1,270,30,9,6,0,1,182,6,23,6,0,1,170,0,7,173,0,520,174,0,2,176,0,2,183,0,133,224,31,34,6,0,16,235,10,2,6,0,9,243,1,1,6,0,2,223,5,1,7],[0,1,3,0,1,9,0,1,11,0,1,12,0,43,18,125,1,6,31,12,6,1,27,6,0,195,7,0,118,172,0,1,183,0,3,235,0,1,7,0,1,6,0,2,7,0,1,156,2,8,6,0,13,7,0,19,223,0,14,6,0,5,7,0,1,170,0,1,176,0,6,183,0,2,210,1,3,6,0,1,111,0,1,142,0,6,7,0,1,111,0,1,156,0,2,148,0,1,155,88,14,6,1,51,6,0,84,7,0,20,172,0,5,181,0,53,230,5,1,6,9,82,6,0,3,7,0,16,242,0,4,272,4,10,6,0,2,7,0,8,170,0,1,287,0,1,290,2,1,6,0,57,6,0,5,170,11,10,6,0,12,7,0,210,245,3,7,6,0,430,230,0,2,262,1,35,6,45,1,6,0,8,7,0,165,172,16,19,6,18,31,6,0,1051,7,0,11,171,0,2,172,0,16,176,0,2,202,0,62,221,0,2,259,0,2408,270,88,290,6,0,2,7,0,8,170,0,5,176,0,137,183,0,68,210,6,4,6,0,127,173,36,29,6,5,8,6,0,3,182,14,7,6,9,1,293],[0,1,4,0,1,10,0,1,6,0,1,2,0,43,19,168,1,6,19,9,6,4,20,6,0,169,7,0,1,169,0,1,170,0,2,6,0,116,7,0,1,6,1,1,6,0,1,182,0,1,7,0,1,6,0,2,7,0,1,6,10,11,7,0,2,169,12,1,6,0,6,7,5,8,6,0,1,195,0,1,6,0,3,7,0,1,175,0,1,7,0,1,6,0,6,6,0,2,6,1,3,6,0,1,112,0,1,143,0,6,120,0,1,120,0,1,6,0,2,149,0,1,6,135,19,6,1,8,6,0,49,7,0,26,204,0,1,6,0,19,7,0,3,6,0,2,170,1,52,7,25,72,6,0,2,6,0,1,226,2,14,6,0,4,6,14,2,6,0,1,6,0,7,182,0,1,6,0,1,170,7,53,6,0,1,6,0,4,182,21,1,6,0,10,208,0,1,240,1,7,6,0,2,192,0,200,208,23,10,6,0,32,7,0,375,262,8,30,6,46,2,6,0,3,7,0,1,171,0,2,191,0,165,7,26,9,6,45,4,6,1,1,6,0,97,7,0,952,233,2,9,6,1,1,6,4,12,6,19,44,6,0,1,259,3,2,6,0,2405,187,135,243,6,0,2,6,1,2,6,0,5,7,1,4,6,4,133,6,11,57,6,31,29,6,0,21,7,0,54,176,0,1,257,0,1,279,70,8,6,0,3,6,15,6,6,9,1,7],[0,1,2,0,1,6,1,1,3,0,43,20,215,6,6,4,14,6,0,149,7,0,1,171,0,1,176,0,1,7,0,1,7,2,116,7,3,1,6,0,1,7,1,2,7,0,1,6,10,2,6,0,3,7,0,6,173,0,2,6,13,6,6,15,2,6,0,1,194,0,1,6,0,1,6,1,6,6,1,1,6,4,1,113,0,1,144,0,6,121,0,1,121,0,1,6,0,2,150,0,1,47,165,2,6,0,45,7,0,26,7,1,1,6,0,7,7,0,11,208,1,2,6,0,1,6,0,1,182,1,1,6,0,51,172,105,11,6,92,3,6,22,10,192,0,1,6,13,1,6,0,196,192,33,1,6,0,31,172,2,10,6,0,1,176,0,2,184,0,346,200,0,3,240,0,3,251,0,2,264,0,1,265,0,1,267,0,3,283,0,1,285,87,1,7,0,1,176,0,1,6,0,2,6,0,165,7,83,1,6,2,97,187,0,2,6,0,950,187,9,2,6,1,1,6,12,4,6,59,3,6,0,1,277,5,1,6,2,13,6,0,2384,167,0,6,238,383,5,6,13,129,6,14,54,6,59,1,6,0,11,6,0,8,47,0,2,165,9,41,6,0,1,7,0,3,257,113,1,227],[0,1,3,0,1,6,1,1,13,0,43,21,238,1,6,0,9,6,0,140,7,0,1,6,0,1,6,0,1,6,0,1,6,2,2,6,0,114,7,4,1,7,1,2,7,13,1,6,0,1,7,0,1,176,2,2,7,0,2,176,0,2,6,37,1,6,14,1,6,0,1,145,0,1,96,0,5,122,0,1,122,0,1,6,0,1,6,0,1,7,167,1,6,0,2,6,0,8,7,0,35,172,0,26,172,2,7,7,2,9,192,8,2,6,0,1,7,0,1,176,0,1,184,0,45,200,233,2,6,0,8,7,20,12,6,0,173,7,0,6,182,35,2,6,0,27,200,0,1,251,26,218,6,0,1,7,0,8,176,0,2,239,0,4,240,0,83,251,0,7,264,0,12,265,101,1,7,0,1,6,3,2,6,0,11,7,0,152,187,86,97,167,3,4,6,0,945,167,112,1,6,7,14,6,0,2361,211,0,2,216,712,23,6,0,1,6,0,3,6,113,1,6],[0,1,5,2,1,2,0,43,22,246,2,6,1,7,6,0,93,7,0,39,167,0,1,6,7,1,6,0,113,167,4,1,7,1,2,7,14,1,6,0,1,6,2,2,6,0,1,6,0,1,7,54,1,114,0,1,146,0,1,6,0,1,7,0,4,123,0,1,123,2,1,151,169,1,6,0,1,6,0,7,7,0,32,7,0,3,200,0,1,6,0,25,200,2,1,6,0,2,7,0,4,192,2,9,7,14,23,6,0,12,7,0,1,176,0,1,184,0,1,239,0,1,240,0,5,251,234,1,6,0,2,6,0,6,209,31,1,6,0,39,6,0,49,193,0,85,209,4,2,6,39,13,6,0,2,7,0,3,176,0,1,240,0,6,251,50,192,6,0,3,284,0,1,6,0,8,6,2,4,6,0,83,239,0,7,6,0,4,6,0,8,176,101,1,194,6,11,167,1,1,6,0,47,7,0,103,167,87,96,211,10,3,6,0,938,211,0,1,238,133,1,6,1,3,7,0,2357,216,854,1,6],[0,1,6,2,1,3,0,9,7,0,32,23,0,1,96,0,1,101,255,1,6,0,6,6,0,87,7,0,39,7,9,1,6,0,112,7,4,1,7,1,2,7,14,1,6,5,1,6,0,1,184,54,1,115,0,1,6,0,1,65,0,1,7,0,2,7,0,2,124,0,1,124,2,1,152,171,3,6,0,4,7,0,8,6,0,24,7,0,1,6,0,2,7,2,11,6,0,12,7,0,1,206,3,2,6,0,4,7,2,1,6,0,3,193,0,5,209,17,20,6,0,3,6,0,4,7,0,4,239,0,1,247,0,1,6,0,1,6,1,1,6,0,5,239,494,12,6,0,2,7,0,3,6,0,1,6,0,6,239,250,4,6,10,29,6,0,50,7,2,5,6,6,6,6,108,11,7,3,46,7,3,1,6,0,57,7,0,42,211,87,96,216,14,1,6,0,1,188,0,935,216,136,3,6,4,1,6,0,2350,167,0,2,188],[0,1,6,2,1,14,0,9,7,0,32,24,0,1,97,0,1,102,260,2,6,0,12,6,0,75,7,0,39,7,11,111,7,4,1,7,1,2,7,76,1,116,0,1,6,1,1,7,0,2,125,0,2,125,0,1,125,2,1,153,173,1,6,0,1,6,0,3,7,3,5,6,2,12,6,0,9,7,0,1,176,0,1,6,0,1,6,0,1,7,4,9,6,0,3,6,0,9,7,5,1,6,0,1,6,0,3,193,51,1,6,0,3,7,0,1,6,0,3,7,0,1,6,4,2,6,0,3,7,506,2,6,1,2,6,2,1,6,0,4,7,270,22,6,0,1,47,0,30,6,0,11,47,0,7,195,0,2,278,127,11,7,3,2,6,0,44,7,4,57,7,0,31,7,0,11,216,87,96,167,17,1,6,0,931,167,0,2,188,148,1,6,0,2344,211,0,1,231],[3,1,2,0,9,7,0,32,18,0,1,98,0,1,103,270,4,6,0,1,6,0,73,7,0,1,126,0,39,7,11,1,6,0,110,7,4,1,6,1,2,126,76,1,117,2,1,126,0,2,126,0,2,126,0,1,126,2,1,7,174,1,6,0,2,6,0,1,7,15,7,6,0,1,6,0,8,7,3,1,7,16,1,6,0,8,7,62,3,7,0,1,6,0,1,6,0,2,195,0,1,6,4,2,6,0,2,6,0,1,47,507,1,195,6,1,6,0,3,47,470,11,7,5,2,6,0,42,7,4,57,7,0,1,7,0,30,167,0,11,167,87,96,211,18,3,6,0,927,211,0,1,231,156,3,6,0,1,7,0,2335,231],[3,1,3,0,9,7,0,32,19,0,1,99,0,1,7,275,73,7,0,1,7,0,39,167,12,3,7,0,107,167,6,2,7,76,1,6,2,1,7,0,2,7,0,2,127,0,1,127,2,1,6,177,1,7,24,2,6,0,5,7,3,1,7,17,1,6,0,6,7,0,1,213,63,1,7,0,1,214,1002,11,167,7,42,7,4,1,7,0,56,167,0,1,6,0,30,211,0,11,211,87,88,7,0,8,231,20,1,6,0,927,231,160,1,6,4,194,6,0,2137,167],[3,1,15,0,9,7,0,32,20,0,1,100,0,1,7,275,1,6,0,72,7,0,1,7,1,38,7,12,3,7,0,1,6,0,106,7,6,2,7,76,1,6,2,1,128,0,2,128,0,2,128,0,1,128,2,1,6,177,1,6,25,1,6,0,1,6,0,4,7,3,1,7,18,1,6,0,5,7,64,1,214,1003,11,7,7,42,7,4,1,7,0,56,7,1,30,7,1,10,7,87,3,6,0,1,7,0,84,167,0,2,6,0,6,167,23,58,6,0,867,167,186,169,6,0,2,47,0,1,186,0,1,249,4,112,6,0,2,7,0,2019,232],[3,1,2,0,9,7,0,32,21,0,1,6,0,1,104,277,71,7,0,1,7,1,38,7,12,1,6,0,2,7,1,106,7,6,2,7,79,1,7,0,2,123,0,2,123,0,1,123,209,3,7,3,1,7,19,2,7,0,3,214,64,1,7,1003,11,7,7,42,7,4,1,188,0,56,7,1,2,6,0,28,167,1,10,167,88,2,6,0,1,6,0,8,6,0,76,7,0,2,6,0,3,7,0,3,232,34,46,6,0,1,186,7,37,6,0,1,7,0,822,232,321,34,6,14,105,6,0,1,195,0,2,6,2,19,6,0,622,7,0,2,180,0,1374,282],[3,1,3,0,1,7,0,8,93,0,32,25,0,1,6,0,1,7,278,70,7,0,1,7,1,38,7,16,106,7,6,1,7,0,1,158,79,1,7,0,1,6,0,1,7,0,2,124,0,1,124,209,3,7,3,1,6,19,2,6,0,1,6,0,2,7,64,1,6,1003,11,7,7,42,7,5,2,6,0,54,7,2,1,6,0,2,6,0,26,7,1,10,7,92,7,6,0,1,6,0,75,7,2,3,7,0,3,7,72,8,6,16,29,6,0,1,6,0,8,6,0,814,7,471,1,6,0,2,281,7,17,6,0,11,6,0,1,179,0,606,180,0,1,207,0,2,241,0,1,248,2,29,6,0,1,7,0,1,179,0,1327,180,0,4,189,0,2,207,0,3,228,0,1,241,0,1,248,0,1,250,0,1,255,0,2,268,0,1,280],[3,1,16,0,1,7,0,8,94,0,32,23,0,1,47,0,1,7,278,2,6,0,68,7,0,1,7,1,5,6,0,33,167,16,5,6,0,101,167,6,1,7,0,1,159,79,1,7,0,1,6,0,1,125,0,2,125,0,1,125,209,3,6,3,1,47,20,1,6,0,1,6,0,2,6,1068,11,167,7,42,7,7,53,167,0,1,179,4,1,6,0,26,7,1,1,6,0,9,7,99,1,6,0,21,7,0,54,222,2,3,222,0,3,180,127,7,6,1,14,6,0,1,7,0,793,180,0,1,228,0,3,241,0,1,250,501,8,6,7,99,6,0,43,7,0,2,177,0,13,179,0,15,189,0,167,207,0,10,212,0,6,228,0,22,241,0,23,248,0,37,250,0,161,255,0,1,268,0,1,280,24,11,6,14,233,6,0,95,7,0,4,177,0,34,179,0,30,189,0,3,201,0,371,207,0,15,212,0,7,228,0,66,241,0,40,248,0,83,250,0,296,255,0,8,268,0,27,280,0,3,288],[3,1,6,0,1,6,0,7,6,0,1,7,0,32,24,1,1,105,279,1,6,0,68,7,0,1,126,1,5,6,0,5,6,0,28,7,16,5,6,1,2,6,0,98,7,6,1,126,0,1,6,79,1,126,1,1,126,0,2,126,0,1,126,209,3,6,1096,11,7,7,42,7,8,1,6,0,51,7,0,1,6,5,26,7,2,9,7,100,21,7,0,54,7,2,3,7,0,1,6,0,1,7,0,1,207,146,3,6,7,146,6,0,177,7,0,10,179,0,15,189,0,1,201,0,200,207,0,19,212,0,7,228,0,38,241,0,12,248,0,47,250,0,113,255,0,2,268,558,47,6,0,15,236,2,32,6,0,8,260,0,1,274,2,13,6,1,14,6,3,116,6,0,35,177,0,11,201,0,2,254,1,9,6,0,6,6,1,8,6,0,13,7,0,23,6,5,32,6,0,1,6,0,160,198,0,1,201,0,1,7,117,112,6,0,53,236,3,87,6,0,5,274,4,34,6,1,29,6,9,263,6,0,59,177,0,37,201,0,3,202,0,3,254,1,14,6,0,7,6,3,36,6,0,27,7,3,37,6,5,78,6,1,3,6,0,292,198,1,5,201,0,2,269,1,5,6,0,21,7],[3,1,6,1,4,6,0,2,47,0,1,95,0,1,7,0,32,18,1,1,7,280,68,7,0,1,7,4,2,6,0,5,6,0,1,6,0,27,7,22,2,6,0,98,7,6,1,7,0,1,6,79,1,7,1,1,7,0,2,127,0,1,127,1308,1,6,0,10,7,7,42,7,8,1,6,0,51,7,0,1,6,5,26,7,2,9,7,100,21,180,0,2,6,0,52,180,2,3,180,1,1,6,0,1,177,205,64,6,0,33,236,2,68,6,0,13,7,0,13,189,0,70,198,0,1,244,0,10,260,0,10,6,0,15,6,4,146,6,0,2,7,0,24,177,0,22,201,0,3,254,3,16,6,0,7,6,0,11,6,0,27,7,0,12,6,0,47,6,0,3,6,0,110,198,0,1,201,0,1,269,606,14,6,10,17,6,0,3,47,0,3,195,0,1,278,0,8,7,5,11,6,5,6,6,0,1,47,0,1,186,0,1,249,0,1,271,15,104,6,0,35,6,1,7,6,0,2,202,0,1,269,0,2,6,5,4,6,0,1,178,0,6,6,4,5,6,0,11,6,0,1,165,0,1,195,1,22,6,8,26,6,0,1,47,0,2,271,5,7,6,0,143,7,0,6,273,1,1,6,233,49,6,28,50,6,0,3,47,0,1,178,0,5,195,0,1,237,0,1,278,0,1,289,17,26,6,10,11,6,0,3,47,0,4,186,0,2,271,39,233,6,1,58,6,8,18,6,0,10,202,0,1,269,3,3,6,1,13,6,0,1,178,0,6,6,0,1,47,25,14,6,0,22,6,0,2,47,0,3,165,3,37,6,19,62,6,0,1,258,0,1,271,7,18,6,0,269,7,0,2,273,14,17,6,0,4,7],[12,1,7,0,31,19,0,1,26,1,1,7,280,68,7,0,1,7,12,27,7,24,98,7,6,1,7,80,1,129,1,1,129,0,2,129,0,1,129,1308,1,6,0,10,7,7,42,7,9,51,7,6,3,6,0,1,7,0,22,180,2,9,180,100,3,6,0,13,7,0,1,179,0,1,189,0,3,207,1,1,6,0,11,6,0,24,7,0,1,179,0,13,207,0,2,212,0,1,228,2,1,6,0,2,7,2,1,6,273,29,6,27,28,6,0,3,47,0,1,164,0,2,165,0,1,178,0,2,195,0,2,203,0,4,237,0,4,6,0,2,172,0,7,225,1,12,6,1,1,6,0,66,7,0,2,198,3,3,6,0,5,7,1,9,6,5,9,6,0,1,47,18,132,6,0,2,246,4,20,6,4,10,6,0,8,202,0,3,6,8,8,6,0,3,253,1,6,6,6,5,6,0,24,6,0,1,47,0,2,165,0,12,6,7,39,6,0,1,258,6,5,6,0,102,7,610,11,6,0,1,191,34,5,6,0,3,7,11,3,6,0,2,186,137,31,6,0,1,47,2,6,6,0,2,6,2,1,6,5,4,6,72,12,6,0,1,47,0,1,276,10,5,6,0,11,6,0,1,47,0,1,165,0,130,197,4,2,6,238,44,6,0,2,191,123,9,6,0,1,186,312,43,6,0,6,47,12,14,6,2,7,6,0,1,254,4,3,6,1,13,6,166,26,6,0,3,186,15,12,6,0,27,6,0,2,47,0,1,165,0,239,197,1,1,6,31,1,6,0,3,7],[12,1,7,0,31,20,0,1,27,1,1,106,280,3,6,0,65,7,0,1,7,12,27,7,24,98,7,6,1,7,80,1,7,1,1,123,0,1,6,0,1,123,0,1,123,1308,1,47,0,10,7,7,2,6,0,40,7,9,51,7,8,1,6,2,5,6,0,7,7,0,7,207,0,2,212,2,1,6,0,7,7,0,1,207,100,1,6,0,2,7,0,5,6,0,4,7,0,1,189,0,3,198,0,1,6,0,1,6,0,3,6,5,7,6,0,1,7,0,5,6,0,6,7,0,2,189,0,11,198,0,1,6,0,8,6,0,4,177,0,1,201,0,2,6,4,1,6,0,1,189,2,1,6,277,21,6,0,1,47,0,3,191,72,2,6,1,1,6,0,1,6,0,6,7,3,9,6,0,1,249,1,1,6,0,13,6,0,1,47,0,52,197,8,4,6,0,1,7,6,2,6,0,2,186,166,1,6,7,17,6,6,8,6,4,3,6,0,1,254,0,3,6,8,8,6,84,19,6,0,2,47,0,1,186,9,3,6,0,12,6,0,90,197,621,1,6,39,3,7,192,1,6,0,2,6,110,3,6,956,6,6,0,1,6,238,3,6,0,2,47,303,3,6],[12,1,7,0,31,21,0,1,28,1,1,7,280,3,6,0,2,6,0,63,7,0,1,7,12,1,6,0,26,7,24,4,6,0,52,7,0,42,180,6,1,7,80,1,7,1,1,7,0,1,6,0,1,157,0,1,124,1309,10,180,8,1,6,0,40,7,9,1,6,0,1,179,0,49,180,12,4,6,0,1,6,0,1,7,0,5,198,0,3,6,0,2,7,0,1,177,0,1,201,0,2,6,2,1,7,0,3,6,0,1,7,0,3,198,0,1,177,101,2,6,5,2,6,0,1,7,0,1,172,0,1,6,0,3,7,0,1,6,0,1,6,0,3,6,15,1,6,0,1,47,0,1,178,0,2,6,0,1,7,0,1,172,0,2,225,0,2,6,1,2,6,0,8,7,0,1,6,1,7,6,0,4,6,0,1,6,1,1,178,5,1,6,380,1,6,1,4,6,0,2,7,5,7,6,2,1,47,78,1,7,221,1,6,0,1,6,900,3,6,1818,2,6],[12,1,7,0,31,30,0,1,29,1,1,7,282,1,6,0,2,6,0,63,7,0,1,7,13,3,6,0,23,7,28,4,6,0,48,7,0,9,6,0,33,7,6,1,7,80,1,7,1,1,125,0,1,6,0,1,6,0,1,125,1310,3,6,0,5,7,0,1,179,9,40,7,11,8,6,0,34,7,0,2,179,0,1,189,0,4,207,17,1,6,1,4,7,0,3,6,0,1,6,0,1,7,0,1,6,0,1,6,0,1,6,0,1,178,2,1,6,2,1,6,0,1,7,0,3,7,0,1,6,110,1,6,0,1,6,0,1,6,0,2,47,0,1,197,0,1,186,23,1,6,0,1,229,1,2,7,0,2,6,2,1,6,0,1,6,0,7,197,9,4,6,0,1,6,7,1,6,386,2,7,93,1,6,1123,3,6,1818,2,47],[12,1,7,0,5,7,0,22,23,0,4,83,0,1,6,1,1,107,286,1,6,0,61,7,0,1,7,13,2,6,0,1,7,0,3,6,0,20,7,28,1,6,0,3,7,1,5,6,0,41,7,0,1,179,2,7,6,1,8,6,0,23,7,0,1,179,6,1,7,80,1,7,1,1,7,2,1,127,1311,2,6,0,2,6,0,3,7,0,1,6,9,40,7,12,6,6,0,1,7,0,7,6,0,17,7,0,1,189,0,9,198,0,2,6,0,1,6,0,2,6,0,1,177,0,1,201,17,1,6,1,4,197,4,1,6,0,1,6,0,1,6,0,1,6,3,1,6,3,1,7,0,2,6,0,1,197,111,1,6,0,1,6,31,1,6,0,1,7,0,2,6,32,1,6,386,2,6,93,1,6,1123,1,6,0,2,47],[12,1,7,0,5,7,0,22,24,0,4,84,2,1,7,287,61,7,0,1,7,15,1,6,1,2,6,0,4,6,0,16,7,29,2,6,0,1,7,3,3,6,1,9,6,0,31,7,0,1,6,13,4,6,0,1,47,0,4,6,0,17,7,0,2,179,0,1,6,6,1,7,80,1,130,1,1,130,2,1,130,1313,2,6,0,1,6,0,2,7,0,1,6,9,40,7,18,1,6,1,5,6,0,1,203,0,6,6,0,5,7,0,5,190,0,1,201,0,1,6,0,9,7,0,2,6,1,2,6,0,1,6,0,1,6,27,1,6,10,1,6,148,1,7,421,2,6],[12,1,6,0,5,7,0,22,18,0,4,7,2,1,7,287,2,6,0,59,7,0,1,7,15,1,6,2,1,6,0,3,6,0,1,164,0,5,6,0,11,7,29,1,6,0,1,7,0,1,7,5,1,6,3,6,6,0,1,178,1,4,6,0,26,7,0,1,6,16,1,6,2,3,6,0,7,6,0,8,7,0,2,177,0,2,6,7,1,131,80,1,131,1,1,131,2,1,131,1314,1,6,0,1,6,0,2,7,0,1,186,9,40,7,18,1,6,11,2,6,0,1,6,0,4,7,0,5,6,0,1,202,0,1,6,0,9,197,1,1,6,3,1,6,0,1,6,187,1,6,421,2,47],[13,5,7,0,22,19,0,4,7,2,1,108,288,1,6,0,59,7,0,1,7,27,1,6,0,3,6,0,8,7,30,1,6,0,1,6,19,2,6,0,15,6,0,9,7,0,2,177,0,1,6,24,5,6,0,3,6,0,5,7,0,2,6,0,2,6,7,1,7,80,1,7,1,1,7,2,1,127,1317,1,6,10,40,7,34,2,6,0,1,7,0,5,6,0,1,7,0,1,6,203,1,6],[13,5,7,0,1,6,0,21,20,0,4,7,2,1,7,289,59,7,0,1,7,30,1,6,1,4,6,0,3,7,31,1,6,27,9,6,1,6,6,0,2,7,1,1,6,32,1,6,0,5,7,0,2,6,1,1,47,7,1,7,80,1,132,1,1,132,2,1,132,1317,1,6,10,40,7,34,2,6,0,1,6,5,1,6,204,1,47],[13,5,7,1,21,21,0,4,7,2,1,6,289,59,7,0,1,7,34,2,6,0,1,6,0,2,7,66,2,6,4,3,6,0,2,7,1,1,6,33,1,6,0,4,7,11,1,133,80,1,133,1,1,133,2,1,133,1328,40,180],[13,4,76,0,1,82,1,1,31,0,20,35,0,4,7,292,5,6,0,54,7,0,1,7,37,2,6,74,1,6,0,2,7,37,2,6,0,1,7,11,1,7,80,1,7,1,1,134,2,1,134,1329,8,6,0,31,7],[13,4,7,0,1,7,1,1,23,0,13,7,0,7,23,0,4,7,294,1,6,0,2,7,0,7,6,0,47,7,0,1,7,114,2,6,38,1,6,12,1,7,80,1,7,1,1,135,2,1,135,1329,5,6,0,3,7,1,4,6,0,23,7,0,2,189,0,1,198],[13,4,7,0,1,7,1,1,24,0,13,7,0,7,24,0,4,85,295,2,6,3,4,6,0,12,6,0,34,7,0,1,163,0,1,6,115,1,6,51,1,7,80,1,6,1,1,136,2,1,136,1334,3,6,3,2,6,0,7,6,0,6,7,0,10,190,0,2,6,0,1,7],[13,4,7,0,1,6,1,1,18,0,9,7,0,4,18,0,7,18,0,4,7,295,2,6,13,5,6,0,1,165,0,5,6,0,29,7,0,1,6,168,1,160,82,1,137,2,1,137,1334,3,6,9,3,6,1,1,6,0,4,7,0,7,6,0,3,177,0,2,6,0,1,197],[13,4,7,2,1,19,0,8,7,0,1,26,0,4,7,0,6,19,0,1,26,0,4,7,314,1,6,3,3,6,0,11,6,0,18,7,169,1,7,82,1,6,2,1,138,1348,1,6,2,1,6,0,3,7,2,5,6,0,3,6,1,1,6],[13,4,7,2,1,20,0,8,20,0,1,7,0,4,20,0,6,20,0,1,36,0,4,7,325,7,6,2,5,6,0,11,7,169,1,161,82,1,6,2,1,139,1351,1,6,0,3,196,7,3,6],[13,4,7,2,1,21,0,8,7,0,1,7,0,4,21,0,6,21,0,1,37,0,4,7,331,1,6,5,2,6,0,2,6,0,9,7,169,1,7,85,1,140,1352,3,7],[13,1,7,0,3,77,2,1,32,0,1,57,0,7,59,0,1,7,0,4,52,0,6,38,0,1,6,0,4,7,338,1,6,3,2,6,0,6,7,169,1,7,85,1,6,1352,1,6,0,2,197],[13,1,7,0,3,7,2,1,23,0,1,7,0,7,7,0,1,7,0,4,7,0,3,7,0,3,23,1,4,7,344,2,6,0,4,7,169,1,162,85,1,6],[13,1,6,0,3,7,2,1,24,0,1,7,0,7,7,0,1,6,0,4,7,0,3,7,0,3,24,1,1,86,0,3,88,345,1,164,1,1,6,0,2,7,169,1,6],[13,1,6,0,3,7,2,1,18,0,1,7,0,7,7,1,1,7,0,3,18,0,3,18,0,3,18,1,1,7,0,3,7,348,1,6,0,1,7],[13,1,6,0,3,7,2,1,33,0,1,7,0,7,7,1,1,26,0,3,7,0,1,7,0,1,19,0,1,26,0,2,19,0,1,26,1,1,7,0,3,7,348,1,6,0,1,6],[14,3,7,2,1,34,0,1,20,0,2,7,0,4,20,0,1,27,1,1,7,0,3,20,0,1,20,0,1,20,0,1,7,0,2,20,0,1,7,1,1,7,0,3,7],[14,3,7,2,1,6,0,1,7,0,2,7,0,4,7,0,1,7,1,1,39,0,3,21,0,1,21,0,1,21,0,1,37,0,2,21,0,1,39,1,1,7,0,3,7],[14,1,78,0,2,80,2,1,6,0,1,58,0,1,7,0,1,72,0,4,60,0,1,7,1,1,7,0,3,53,0,1,49,0,1,48,0,1,7,0,2,40,0,1,7,1,1,7,0,3,7],[14,1,7,0,2,7,2,1,6,0,1,7,0,1,6,0,1,7,0,4,7,0,1,6,1,1,7,0,1,6,0,2,7,0,1,50,0,1,7,0,1,6,0,2,23,0,1,7,1,1,7,0,3,7],[14,1,7,0,2,7,3,1,7,0,1,6,0,1,7,0,4,7,2,1,7,0,1,56,0,2,7,0,1,6,0,1,7,1,2,24,0,1,6,1,1,87,0,1,7,0,1,89,0,1,91],[14,1,7,0,2,7,3,1,7,1,1,7,0,4,7,2,1,6,0,1,6,0,2,18,0,1,51,0,1,18,1,2,18,0,1,6,1,1,7,0,1,7,0,1,7,0,1,92],[14,1,7,0,2,7,3,1,26,1,1,7,0,4,7,3,1,6,0,1,7,0,1,26,0,1,6,0,1,19,1,2,19,0,1,6,1,1,7,0,1,7,0,1,7,0,1,6],[14,1,7,0,2,7,3,1,7,1,1,7,0,4,20,4,1,20,0,1,7,1,1,20,1,2,20,2,1,7,0,1,7,0,1,7,0,1,6],[14,1,7,0,2,7,3,1,7,1,1,7,0,4,7,4,1,21,0,1,39,1,1,7,1,2,21,2,1,7,1,1,7],[14,1,79,0,2,81,3,1,7,1,1,73,0,1,61,0,1,66,0,2,69,4,1,54,0,1,7,1,1,7,1,2,41,2,1,7,1,1,7],[14,1,6,0,2,7,3,1,7,1,1,74,0,1,62,0,1,7,0,1,7,0,1,71,4,1,7,0,1,6,1,1,7,1,2,23,2,1,7,1,1,7],[15,2,7,3,1,7,1,1,75,0,1,6,0,1,7,0,1,7,0,1,6,4,1,7,2,1,6,1,2,24,2,1,7,1,1,90],[15,2,7,3,1,6,1,1,6,0,1,63,0,1,7,0,1,7,0,1,6,4,1,18,4,2,18,2,1,7,1,1,7],[15,2,7,3,1,6,1,1,6,0,1,64,0,1,7,0,1,7,5,1,6,4,1,7,0,1,19,2,1,79,1,1,7],[15,2,70,6,1,6,0,1,20,0,1,70,5,1,55,4,1,34,0,1,20,4,1,7],[15,2,6,6,1,6,0,1,7,0,1,6,10,1,7,0,1,21,4,1,7],[15,2,6,6,1,65,0,1,67,0,1,6,10,1,42,0,1,45,4,1,7],[24,1,7,11,1,7,0,1,23,4,1,7],[24,1,7,11,1,7,0,1,24,4,1,7],[24,1,7,11,1,43,0,1,18,4,1,7],[24,1,7,11,1,44,0,1,19,4,1,7],[24,1,20,11,1,6,0,1,20,4,1,6],[24,1,7,11,1,6,0,1,46,4,1,6],[24,1,68,12,1,6],[24,1,7,12,1,47],[24,1,7],[24,1,7],[24,1,7],[24,1,7],[24,1,7],[24,1,7],[24,1,6],[24,1,6]];
numTicks = 6606;

let rangeMin = 0;
let rangeMax = 1;
let topLevel = 0;
let query = '';
let graphWidth, pxPerTick;

const pxPerLevel = 18;
const collapseThreshold = 5;
const hideThreshold = 0.5;
const labelThreshold = 20;

highlightEl.style.height = pxPerLevel + 'px';

if (levels) {
    init();
}

function init() {
    document.body.classList.add('loaded');

    // delta-decode bar positions
    for (const level of levels) {
        let prev = 0;
        for (let i = 0; i < level.length; i += 3) {
            level[i] += prev;
            prev = level[i] + level[i + 1];
        }
    }

    updateFromHash();
    render();
}

window.onhashchange = () => {
    updateFromHash();
    render();
};
canvas.onclick = (e) => {
    const {i, j} = xyToBar(e.offsetX, e.offsetY);
    if (j === -1) return;
    window.location.hash = [i, j].join(',');
    removeHover();
};
document.getElementById('reset').onclick = () => {
    searchEl.value = query = '';
    window.location.hash = '';
    render();
};
window.onresize = render;

searchEl.oninput = (e) => {
    query = e.target.value;
    render();
};

function updateFromHash() {
    const [i, j] = window.location.hash.substr(1).split(',').map(Number);

    if (!isNaN(i) && !isNaN(j)) {
        topLevel = i;
        rangeMin = levels[i][j] / numTicks;
        rangeMax = (levels[i][j] + levels[i][j + 1]) / numTicks;
    } else {
        topLevel = 0;
        rangeMin = 0;
        rangeMax = 1;
    }
}

function tickToX(i) {
    return (i - numTicks * rangeMin) * pxPerTick;
}

function render() {
    if (!levels) return;

    graphWidth = canvas.width = canvas.clientWidth;
    canvas.height = pxPerLevel * (levels.length - topLevel);
    canvas.style.height = canvas.height + 'px';

    if (devicePixelRatio > 1) {
        canvas.width *= 2;
        canvas.height *= 2;
        ctx.scale(2, 2);
    }

    pxPerTick = graphWidth / numTicks / (rangeMax - rangeMin);

    ctx.textBaseline = 'middle';
    ctx.font = '10px Tahoma, sans-serif';
    ctx.strokeStyle = 'white';

    for (let i = 0; i < levels.length - topLevel; i++) {
        const level = levels[topLevel + i];

        for (let j = 0; j < level.length; j += 3) {
            const barIndex = level[j];
            const x = tickToX(barIndex);
            const y = i * pxPerLevel;
            let numBarTicks = level[j + 1];

            const inQuery = query && (names[level[j + 2]].indexOf(query) >= 0) || false;

            // merge very small blocks into big "collapsed" ones for performance
            const collapsed = numBarTicks * pxPerTick <= collapseThreshold;
            if (collapsed) {
                while (
                    j < level.length - 3 &&
                    barIndex + numBarTicks === level[j + 3] &&
                    level[j + 4] * pxPerTick <= collapseThreshold &&
                    (inQuery === (query && (names[level[j + 5]].indexOf(query) >= 0) || false))
                ) {
                    j += 3;
                    numBarTicks += level[j + 1];
                }
            }

            const sw = numBarTicks * pxPerTick - (collapsed ? 0 : 0.5);
            const sh = pxPerLevel - 0.5;

            if (x < -1 || x + sw > graphWidth + 1 || sw < hideThreshold) continue;

            ctx.beginPath();
            ctx.rect(x, y, sw, sh);

            const ratio = numBarTicks / numTicks;

            if (!collapsed) {
                ctx.stroke();
                const intensity = Math.min(1, ratio * Math.pow(1.16, i) / (rangeMax - rangeMin));
                const h = 50 - 50 * intensity;
                const l = 65 + 7 * intensity;
                ctx.fillStyle = inQuery ? 'lightgreen' : `hsl(${h}, 100%, ${l}%)`;
            } else {
                ctx.fillStyle = inQuery ? 'lightgreen' : '#eee';
            }
            ctx.fill();

            if (!collapsed && sw >= labelThreshold) {

                const percent = Math.round(10000 * ratio) / 100;
                const name = `${names[level[j + 2]]} (${percent}%, ${numBarTicks} samples)`;

                ctx.save();
                ctx.clip();
                ctx.fillStyle = 'black';
                ctx.fillText(name, Math.max(x, 0) + 1, y + sh / 2);
                ctx.restore();
            }
        }
    }
}

// pixel coordinates to bar coordinates in the levels array
function xyToBar(x, y) {
    const i = Math.floor(y / pxPerLevel) + topLevel;
    const j = binarySearchLevel(x, levels[i]);
    return {i, j};
}

// binary search of a block in a stack level
function binarySearchLevel(x, level) {
    let i = 0;
    let j = level.length - 3;
    while (i <= j) {
        const m = 3 * ((i / 3 + j / 3) >> 1);
        const x0 = tickToX(level[m]);
        const x1 = tickToX(level[m] + level[m + 1]);
        if (x0 <= x && x1 >= x) {
            return x1 - x0 > collapseThreshold ? m : -1;
        }
        if (x0 > x) {
            j = m - 3;
        } else {
            i = m + 3;
        }
    }
    return -1;
}

if (window.orientation === undefined) {
    canvas.onmousemove = addHover;
    canvas.onmouseout = window.onscroll = removeHover;
}

function removeHover() {
    canvas.style.cursor = '';
    highlightEl.style.display = 'none';
    tooltipEl.style.display = 'none';
}

function addHover(e) {
    const {i, j} = xyToBar(e.offsetX, e.offsetY);

    if (j === -1 || e.offsetX < 0 || e.offsetX > graphWidth) {
        removeHover();
        return;
    }

    canvas.style.cursor = 'pointer';

    const level = levels[i];
    const x = tickToX(level[j]);
    const y = (i - topLevel) * pxPerLevel;
    const sw = tickToX(level[j] + level[j + 1]) - x;

    highlightEl.style.display = 'block';
    highlightEl.style.left = x + 'px';
    highlightEl.style.top = (canvas.offsetTop + y) + 'px';
    highlightEl.style.width = sw + 'px';

    const numBarTicks = level[j + 1];
    const percent = Math.round(10000 * numBarTicks / numTicks) / 100;
    const time = `<span class="time">(${percent}%, ${numBarTicks} samples)</span>`;
    let content = names[level[j + 2]];
    if (content[0] !== '(') content = content.replace(' ', ` ${time}<br><span class="path">`) + '</span>';
    else content += ` ${time}`;

    tooltipEl.innerHTML = content;
    tooltipEl.style.display = 'block';
    tooltipEl.style.left = (Math.min(e.offsetX + 15 + tooltipEl.clientWidth, graphWidth) - tooltipEl.clientWidth) + 'px';
    tooltipEl.style.top = (canvas.offsetTop + e.offsetY + 12) + 'px';
}

// (function frame() { if (levels) render(); requestAnimationFrame(frame); })();


</script>
</body>
</html>
